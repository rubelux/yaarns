<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
     <title>Organizing Resources</title>
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '',
        COLLAPSE_INDEX: true,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
   </head> 

     <div class="header"><h1 class="heading"><a href="#">
          <span>Shaker</span></a></h1>
      </div>
      <div class="topnav">
      
        <p>
        <a class="uplink" href="../">Mojito Documentation</a>
        &#160;&#160;::&#160;&#160;
        <a href="index.html" title="Shaker">Shaker</a>
        &#160;&#160;::&#160;&#160;
        
           <a href="shaker_configuration.html">Configuration and API</a>
        &#160;&#160;::&#160;&#160;
        
        
           <a href="shaker_components.html">Shaker Components</a>
        
        </p>

      </div>
      <div class="content">
   <div class="section" id="organizing-resources">
<span id="organization"></span><h1>Organizing Resources<a class="headerlink" href="#organizing-resources" title="Permalink to this headline">¶</a></h1>
<p>Resources are automatically processed by Shaker as long as they follow <a class="reference external" href="http://developer.yahoo.com/cocktails/mojito/docs/topics/mojito_assets.html">Mojito&#8217;s
standard organization and naming conventions</a>.
Shaker has additional conventions to facilitate certain features such as inlining and ignoring particular resources.</p>
<div class="section" id="naming-conventions">
<h2>Naming Conventions<a class="headerlink" href="#naming-conventions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="contextualization">
<h3>Contextualization<a class="headerlink" href="#contextualization" title="Permalink to this headline">¶</a></h3>
<p>Resources such as controllers, views, assets, and binders can be contextualize by appending the selector of a dimension to a resource&#8217;s filename.
For example: a mojit may have two assets, styles.css and styles.iphone.css. styles.css is served for all contexts that do not
contain the iphone dimension, while styles.iphone.css only appears in contexts that include the &#8216;iphone&#8217; dimension.
The dimension must be defined in dimensions.json
(see <a class="reference external" href="http://developer.yahoo.com/cocktails/mojito/docs/topics/mojito_using_contexts.html#context-configs-custom">Creating Custom Contexts</a>).
The selector must be defined in application.json
(see <a class="reference external" href="http://developer.yahoo.com/cocktails/mojito/docs/topics/mojito_resource_store.html#selector-property">Selector Property</a>).</p>
</div>
<div class="section" id="action-specific-resources">
<h3>Action Specific Resources<a class="headerlink" href="#action-specific-resources" title="Permalink to this headline">¶</a></h3>
<p>In order to associate a resource with a particular mojit action, the asset&#8217;s name should match the mojit action. For example the assets home.css and
home-base.js would only appear in the &#8216;home&#8217; action. Resources that do not match the name of any action within the mojit, appear in all actions.
This applies to assets, views, and binders.</p>
</div>
<div class="section" id="ordering-resources">
<h3>Ordering Resources<a class="headerlink" href="#ordering-resources" title="Permalink to this headline">¶</a></h3>
<p>Since the order of assets on the page can matter, Shaker always processes resources in alphabetical order. This ensures that assets of any particular type appear
on the page in the same order regardless of inlining or the presence of rollups.</p>
</div>
<div class="section" id="inlining-assets">
<span id="organization-naming-inlining"></span><h3>Inlining Assets<a class="headerlink" href="#inlining-assets" title="Permalink to this headline">¶</a></h3>
<p>Assets can be inlined by appending &#8216;-inline&#8217; to the filename. For example, the asset
style-inline.css lets Shaker know that it should be inlined. To inline a group of assets, the assets can be moved to a directory called
&#8216;inline&#8217; within &#8216;assets&#8217;, without the need of renaming any asset. See <a class="reference internal" href="#organization-inlining"><em>Inlining Assets</em></a> for more details on inlining.</p>
</div>
<div class="section" id="voiding-assets">
<h3>Voiding Assets<a class="headerlink" href="#voiding-assets" title="Permalink to this headline">¶</a></h3>
<p>Assets can be ignored by appending &#8216;-void&#8217; to the filename. For example, the asset style-void.css lets Shaker know that it should be ignored.
To ignore a group of assets, the assets can be moved to a directory called
&#8216;void&#8217; within &#8216;assets&#8217;, without the need of renaming any asset. This gives the user flexibility on how to handle certain assets manually.</p>
</div>
</div>
<div class="section" id="inlining">
<span id="organization-inlining"></span><h2>Inlining<a class="headerlink" href="#inlining" title="Permalink to this headline">¶</a></h2>
<p>Inlining an asset means that the asset&#8217;s content appears on the page&#8217;s html instead of being downloaded. This presents performance tradeoffs by
increasing the size of the html page in order to reduce HTTP requests. Also an inlined asset can be placed right next to a mojit&#8217;s html
(css appears above, and js appears below). Since the asset appears immediately next to the mojit,
no jittering occurs, which can happen when styling or scripts affecting a mojit is downloaded. To ensure that inlined mojit assets appear next
to the mojit&#8217;s html, the mojit&#8217;s controller must include &#8216;mojito-shaker-mobstor&#8217;, otherwise the inline asset will appear next to the closest ancestor
that includes the addon, or the application itself.</p>
<p>Assets can be inlined by naming convention as described in <a class="reference internal" href="#organization-naming-inlining"><em>Inlining Assets</em></a> above. To inline all JS or CSS assets the &#8216;inline&#8217;
value can be specified for the type of resource under the &#8216;resources&#8217; -&gt; &#8216;assets&#8217; configuration (see <a class="reference internal" href="shaker_configuration.html#configuration-assets"><em>Assets Configuration</em></a>).
Finally an application level asset can be inlined by a mojit by using the shakerInline.inlineFile API as described below.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Assets that appear in a route rollup are never inlined on the page since they are already present in a rollup.</p>
</div>
<div class="section" id="inlining-using-inlinefile">
<span id="organization-inlinefile"></span><h3>Inlining Using inlineFile<a class="headerlink" href="#inlining-using-inlinefile" title="Permalink to this headline">¶</a></h3>
<p>A mojit can request to inline a particular application level resource by using the shakerInline.inlineFile API method. This is useful if a particular
asset exists in a separate package and a mojit would like the asset to appear inline next to its HTML. The application level asset must have
the &#8216;-inline&#8217; marker in its filename (see <a class="reference internal" href="#organization-naming-inlining"><em>Inlining Assets</em></a>). The mojit that needs the asset must call shakerInline.inlineFile,
with the first argument being the file&#8217;s basename, without the &#8216;-inline&#8217; marker. The second argument is optional string specifying the type (&#8216;css&#8217;, or &#8216;js&#8217;).
The mojit must include the &#8216;shaker-inline-addon&#8217; to use the method.</p>
</div>
</div>
</div>

   </div>
